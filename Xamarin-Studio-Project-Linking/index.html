
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Xamarin Studio: Project Linking - Redth</title>
  <meta name="author" content="Jon">

  
  <meta name="description" content="A little known way to 'link' projects in Xamarin Studio">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://redth.info/Xamarin-Studio-Project-Linking">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Redth" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6465612-17']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Redth</a></h1>
  
    <h2>code, ramblings, rants</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:redth.info" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Xamarin Studio: Project Linking</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-29T00:00:00-04:00" pubdate data-updated="true">Aug 29<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I hope to blow some minds here today.  At least, that&#8217;s what happened to my mind when Clancey showed me this neat little trick awhile back.  I find most people still aren&#8217;t aware of it, so I thought I&#8217;d share it!  It&#8217;s not quite as powerful as the Visual Studio project linker add-in, but it&#8217;s pretty close!</p>

<p>PCL&#8217;s are the up and coming.  I&#8217;m pretty confident eventually they will be awesome.  For now, there&#8217;s some growing pains, and for some folks like myself, it&#8217;s just easier/more efficient/more productive to use project linking.  I have been using project linking for some time, and it&#8217;s honestly not driven me too mad yet!</p>

<p>First of all, take a look at my simple new solution with two core projects: Core.Android, and Core.iOS.  These are just simply Android Library and iOS Library project types, with nothing changed from how Xamarin Studio created them for me.  You can also see in the diagram below, that I&#8217;ve created a new folder called &#8216;Core&#8217; in the same folder as the solution.  This is where we&#8217;re going to store our common Core files that should be linked to both our projects.</p>

<p><a href="/images/Xamarin-Studio-Project-Linking/XS-Prj-Linking-01.png">Xamarin Studio Project Linking - Blank Setup</a></p>

<p>The next step is to go into each of our projects&#8217; settings.  Under the &#8216;General -> Main Settings&#8217; area, there&#8217;s at least three things we need to change (optionally, four).</p>

<p><a href="/images/Xamarin-Studio-Project-Linking/XS-Prj-Linking-02.png">Xamarin Studio Project Linking - Project Settings</a></p>

<ol>
<li><strong>Default Namespace:</strong> This will be <strong><em>Core.Android</em></strong> or <strong><em>Core.iOS</em></strong>.  We want a common namespace, so let&#8217;s change it to <strong><em>Core</em></strong></li>
<li><strong>On Project Load</strong> Here&#8217;s the magic, make sure <strong><em>Search for new files on load</em></strong> is <strong><em>Checked</em></strong></li>
<li><strong>Automatically include found files</strong> Now this is optional, and I typically leave it off.  If we leave this unchecked, we will be prompted when new files are found and asked if we would like them included.  I am a control freak and like to retain absolute power.  The choice is yours!</li>
<li><strong>Location of Files -> Root Directory</strong> By default this path will point to the project folders (so <strong><em>&#8230;/Core.Android</em></strong> and <strong><em>&#8230;/Core.iOS</em></strong>).  We need to change it to the location of the common folder we created (in this case <strong><em>&#8230;/Core</em></strong>).</li>
</ol>


<p>Ok, so I lied, there&#8217;s one more step.  Since we moved the location of the project, any files that exist and were referenced by the .csproj from the old location will be MIA.  In the case of an empty iOS library, there are no files added for us.  In the case of Android, there&#8217;s a couple.  I chose to remove the references to them in the project, but you could also choose to just manually move the files over to the new folder!</p>

<p>Ok, so now it&#8217;s time to watch it happen!  After you&#8217;ve changed both projects&#8217; settings, try adding a new C# class file to one of them, and voila!  Xamarin Studio should ask you if you&#8217;d like to add the new file to the other project as well, or if you set the files to be automatically included when found, it will just appear!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jon</span></span>

      








  


<time datetime="2013-08-29T00:00:00-04:00" pubdate data-updated="true">Aug 29<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://redth.info/Xamarin-Studio-Project-Linking" data-via="redth" data-counturl="http://redth.info/Xamarin-Studio-Project-Linking" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/Auto-Wire-Up-Views-Xamarin-Activity" title="Previous Post: How to Auto Wire Up Android Activity Views in Xamarin.Android">&laquo; How to Auto Wire Up Android Activity Views in Xamarin.Android</a>
      
      
        <a class="basic-alignment right" href="/ios7-recipe-background-fetching" title="Next Post: iOS7 Recipe: Background Fetching">iOS7 Recipe: Background Fetching &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  	<br />
  	<p><img src="/images/Site/Redth.png" alt="Redth" /></p>
  
  	<p>
   	 <script type="text/javascript" src="http://wms.assoc-amazon.com/20070822/US/js/link-enhancer-common.js?tag=red082-20">
      </script>
      <noscript>
          <img src="http://wms.assoc-amazon.com/20070822/US/img/noscript.gif?tag=red082-20" alt="" />
      </noscript>
     </p>

     <p> 
      <iframe src="http://githubbadge.appspot.com/badge/Redth?a=0" style="border: 0;height: 108px;width: 200px;overflow: hidden;" frameBorder=0></iframe>     
     </p>
     
     <p>
      <a href="http://ca.linkedin.com/pub/jonathan-dick/3/a60/2b5"><img src="http://www.linkedin.com/img/webpromo/btn_viewmy_160x33.png" width="160" height="33" border="0" alt="View Jonathan Dick's profile on LinkedIn"></a>
      </p>


      <table cellpadding="0" cellspacing="0">
        <tr>
          <td>
            <a href="http://xamarin.com/mvp" target="_blank" style="border-style: none;"><img src="/images/Site/Xamarin-MVP-Badge.png" alt="Xamarin Most Valuable Professional" /></a>
          </td>
          <td>
            <a href="http://xamarin.com/consulting-partners" target="_blank" style="border-style: none;"><img src="/images/Site/Xamarin-Certified-Developer.png" alt="Xamarin Certified Developer" /></a>
          </td>         
        </tr>
      </table>
      <br />
      

      <a class="twitter-timeline" data-dnt=true href="https://twitter.com/redth" data-widget-id="253917988271562752">Tweets by @redth</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/ios7-recipe-background-fetching">iOS7 Recipe: Background Fetching</a>
      </li>
    
      <li class="post">
        <a href="/Xamarin-Studio-Project-Linking">Xamarin Studio: Project Linking</a>
      </li>
    
      <li class="post">
        <a href="/Auto-Wire-Up-Views-Xamarin-Activity">How to Auto Wire Up Android Activity Views in Xamarin.Android</a>
      </li>
    
      <li class="post">
        <a href="/Xamarin-Studio-Launcher">Xamarin Studio Launcher</a>
      </li>
    
      <li class="post">
        <a href="/MobiDevDay-Detroit-2013">MobiDevDay Detroit 2013</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Jon -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'redth';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://redth.info/Xamarin-Studio-Project-Linking';
        var disqus_url = 'http://redth.info/Xamarin-Studio-Project-Linking';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
